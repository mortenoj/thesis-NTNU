\chapter{Discussion}
\label{chap:discussion}

In this chapter, a summary of the thesis is provided, followed by discussions of the proposed solution, the field of study, possible applications, and the approach's validity both in terms of academic and commercial value. Finally, the limitations of the thesis and proposed future work are presented and discussed.

\section{Summary}
\label{sec:summary}

This thesis has investigated the topic of destination prediction for vessels in the shipping industry by using historical \acrfull{ais} data and additional vessel information. \acrshort{ais} is a globally adopted tracking system that transmits all commercial vessels' geographical and navigational information similar to that of GPS\@.

The thesis objective was to develop a methodology for predicting traveling vessels' future destination ports on a global scale unrestricted by specific vessel types, geographical regions, or time intervals using historical \acrshort{ais} data. The thesis was based on a collaboration with a technological maritime start-up company \acrfull{mo} who provided the data foundation used throughout the thesis, as well as access to experts to validate the solution. In doing so, the thesis sought to answer two primary research questions:

\begin{enumerate}
    \item How can \acrshort{ais} data combined with specific vessel details be applied to predict future destinations of maritime vessels?
    \item What is the impact of vessel segmentation on prediction methods, or vessels' general predictability?
\end{enumerate}

Related work within the area of vessel destination or trajectory prediction was investigated to determine to what extent existing literature had already answered the research questions. It was found that the majority of related work was motivated by collision avoidance for safety reasons, anomaly detection to detect vessels deviating from established shipping lanes, automated collision avoidance systems to be installed on autonomous vessels, or short-term trajectory predictions to aid in port management and scheduling. Existing works motivated by these factors did not consider the future destination port of the traveling vessels, but rather the vessels' specific positions or future trajectories in a short time interval ranging from minutes to a few hours.

The few related studies that considered future destinations of vessels were almost all limited, or exclusively tested on a specific region or area such as the Mediterranean sea. One study was found that considered a general port destination prediction approach, however, this study, presented in \cite{Zhang2020AISApproach}, exclusively considered the geographical information provided by the \acrshort{ais} standard, and did not consider additional vessel information such as the type, size, or capacity of vessels. Since the research questions were not fully answered by the existing literature, the thesis goal was refined to developing a global and general vessel destination prediction method that is capable of considering more than purely spatial voyage information such as vessel segments and sub-segments as provided by the collaborative company \acrfull{mo}.

In order to use spatial voyage trajectories derived from \acrshort{ais} data in the final prediction method, the thesis formulated a voyage definition that determined what conditions had to be true to consider a vessel arrived at a specific port. Based on related works, a clustering-based approach was initially evaluated that detected ``clusters'' of \acrshort{ais} records close to shipping ports using the \acrfull{dbscan} algorithm. When positional records were transmitted in a high enough density close to a port, the vessel was considered arrived. However, this approach was later abandoned in favor of a voyage definition that considered the vessels themselves expressing an arrived state via the navigational status ``moored'' in the \acrshort{ais} data. The latter approach was favored as it ignored intermediate port visits during a voyage such as when vessels stopping to refuel at bunker ports, therefore, it produced more realistic voyage characterizations of higher predictive value, taking into account where the vessel finally unloads cargo and considers itself moored.

Using the predefined voyage definition, historical \acrshort{ais} data ranging from December 2019 to March 2021 provided by \acrshort{mo} was constructed into \textbf{1.7} million voyages and trajectories defined as positional records transmitted between subsequent departures and arrivals. These voyages formed the initial training data to be used to train a \acrfull{ml} model to predict voyages' arrival ports. In order to consider specific vessel information, voyage information, and spatial trajectories, a method of structuring spatial trajectories as categorical and numerical values was proposed.

In this approach, every historical trajectory was compared with every other trajectory outgoing from the same departure port from vessels of the same type in order to find the most similar historical trajectory. The \acrfull{sspd} algorithm was used to determine trajectory similarity. The trajectories had been simplified prior to this comparison by only using one point at every six-hour interval in each trajectory in order to make comparisons easier.

Furthermore, in the process of trajectory comparisons, each voyage was divided into at most four incomplete versions of the same trajectory to emulate realistic voyages not yet reached their final destination. The most similar historical trajectory's destination port (\acrshort{mstd}), the value indicating the similarity value of the trajectories, and the trajectory length became the categorical and numerical values representing a voyage's spatial trajectory. The final training set only contained categorical and numerical values, consisted of \textbf{4.3} million incomplete voyages, and formed the final training dataset used to train a \acrshort{ml} model.

An \acrfull{xgb} \acrshort{ml} model was then configured and trained to predict a voyage's arrival port by considering the vessel's segmentation, or type, departure port, \acrshort{mstd}, \acrshort{mstd} similarity, and trajectory length, or duration. The training process used \textit{80\%} and \textit{20\%} as training and evaluation data respectively and achieved an accuracy score of \textbf{72\%}, and an F1-score of \textbf{0.734} validated by additional metrics and cross-folder validation. The \textbf{20\%} of the dataset used to evaluate the initial training process resulted in around \textit{880 000} example predictions that were then analyzed in order to gain insight into \textit{research question 2} (\cref{sec:research_questions}). It was found that the segmentation value had a large impact on the model's performance, and some vessel segments were easier to predict than others. For some segments, accuracies for underlying sub-segments defined by vessels' size and capacities seemed to indicate some correlation between vessel size, capacity, and predictability, however, in other segments, this did not seem to be the case.

Finally, in order to determine the validity of the proposed solution, several high-ranking commercial shipping actors were interviewed. They provided a valuable perspective into the commercial validity of the thesis and had numerous suggestions for possible applications and future improvements.

\section{Research questions}

This thesis has aimed to answer two main research questions, as listed in \cref{sec:summary}, as well as a number of sub-questions as specified in \cref{sec:research_questions}. This section describes how each research question was answered as part of the proposed solution or preliminary literature review.

\subsection{RQ 1: How can \acrshort{ais} data combined with specific vessel details be applied to predict future destinations of maritime vessels?}

The existing literature was unable to fully answer this research question which further motivated the developed model proposed in this thesis. Thus, the thesis proposes a method of predicting the future destinations of vessels based on historical \acrshort{ais} and specific vessel details. Vessel voyages were defined and trajectories were constructed using historical \acrshort{ais} records. These trajectories were structured as categorical and numerical values by making initial predictions purely based on the spatial trajectories by calculating the \acrfull{mstd}. The resulting training dataset was extended to include additional vessel details such as the vessels' segments and sub-segments. Thus, any classification-oriented \acrshort{ml} model could be trained to predict voyages' arrival ports.

\subsubsection{RQ 1a: What prediction methods can be used to predict vessel destinations?}

In addition to the thesis' proposed method, existing literature showed a few methods capable of predicting destination ports. The only study found unlimited by specific geographical regions developed a \acrfull{rf} -based trajectory similarity measurement method that was used to find a traveling vessel's most similar historical trajectory's destination port similar to that of the \acrshort{mstd} value used in this thesis. They also used the frequencies of port visits to normalize the predictions. In the solution proposed in this thesis, their \acrshort{ml}-based trajectory similarity method could replace the \acrshort{sspd} method when calculating the \acrshort{mstd} value in the training dataset and when making predictions.

In terms of \acrshort{ml} models, when the problem of destination prediction is formulated as a classification problem it seems that the most viable models are tree-based ensemble methods such as the \acrfull{rf} or \acrfull{xgb} models. In contrast, for short-term trajectory predictions, many different models were applied in related works. For these predictions, nearest neighbor search-based approaches were common as well as a variety of feedforward neural networks.

\subsubsection{RQ 1b: What information can be used to predict vessel destinations?}

The related work showed that purely spatial attributes in historical \acrshort{ais} data had been used to make predictions regarding vessels' future trajectory or destination. A few studies used the vessels' heading and speed as well as their geographical coordinates when making predictions, however, it was most common to only consider trajectories derived from geographical coordinates when making predictions. In the thesis' proposed solution, the vessels' departure ports and vessel segmentation proved to be highly impactful on destination predictions.

Furthermore, shipping experts interviewed explained that in addition to vessel segments and sub-segments, vessels' current drafts (depth underwater) in addition to port restrictions can indicate where vessels will travel. Large vessels are particularly affected as there are few ports that are capable of receiving and loading them. Weather also has a large impact on vessels' traveling patterns but usually does not affect vessels' final destination port as this is already decided before the voyage begins. The experts also explained that seasonality may be an impact factor as some wares are only exported during particular seasons. However, in areas affected by ice, it may also impact vessels' voyage trajectories as some areas are unnavigable for most vessels during winter months such as the Northeast passage.

\subsubsection{RQ 1c: To what extent do methods proposed in existing work vary in scope of applicability?}

\paragraph{Time extent}
Based on the results from a review of the current literature, most prediction methods did not consider future destination ports, but rather vessels' future short-term trajectories. The development of such methods was often motivated by security improvement and used to detect possible collision scenarios. As collision scenario detection is only relevant in shorter time-frames, these prediction methods were limited to restricted time intervals ranging from minutes to a few hours at most.

\paragraph{Geographical extent}
As most related studies are motivated by goals such as security improvement, port management, and anomaly detection, they are not only limited by temporal extent but also geographical extent. For collision detection, the geographical area is not very relevant because the developed methods should be applicable to any given area, port, or region. Moreover, anomaly detection studies were usually limited to specific geographical regions in order to reduce the amount of noise or irrelevant data. For example, for detecting illegal, or irregular, fishing activity, only fishing vessels in a particular area are considered. The few longer-term prediction methods discovered that did consider logistics were also mostly limited by a single geographical region. Seemingly, this was often a result of limited access to global historical \acrshort{ais} data, or the studies themselves were conducted in collaboration with a specific maritime organization. Only one study was found to consider destination predictions on a global scale independent of both geographical and time limitations.

\paragraph{Data depth}
In terms of the broadness of data considered for related studies, most studies only considered geographical data. Some studies considering collision detection additionally took advantage of additional navigational attributes of the \acrshort{ais} data such as the vessel's heading, \acrfull{cog}, and \acrfull{sog}. The few studies that considered destination port predictions were dependent on port data, however, they only considered vessels' spatial trajectories in their predictions and ignored specific vessel details such as their types or segments.

The fact that most related work is generally motivated by safety improvement and collision detection reflects the original intent behind the \acrshort{ais} initiative. The main intention behind the \acrshort{ais} initiative was not economical, or commercial, in nature, but rather implemented for safety and navigation reasons. However, in recent years, the commercial shipping industry has begun using \acrshort{ais} for commercial purposes as it has become a trusted source of information. Thus, it is probable that more studies will focus on \acrshort{ais} for destination prediction and logistics in the future.

\subsubsection{RQ 1d: How can the validity of predictions made based on different prediction methods be established?}

There were many different validation approaches taken in the existing literature. The most common validation method included using some manner of \textit{k-fold cross-validation} with multiple performance metrics such as F1-score, Mean Distance Error (MDE), and accuracy. Error measurements based on distances were mostly used in short-term predictions that required high positional accuracy, however, it was also applied for a few papers that considered destination prediction as well. In these studies, the distance from the predicted destination port was measured from the actual destination port. This provides further insight into the level of error for incorrect predictions. For example, if a predicted arrival port was wrong but very close to the actual arrival port, the trajectory-based prediction did still perform quite well. This is a good candidate for future work for this thesis as the proposed evaluation process did not provide much insight into the level of error for incorrect predictions.

\subsection{RQ 2: What is the impact of vessel segmentation by type, size, or capacity on prediction methods, or vessels' general predictability?}

During the model evaluation stage in this thesis, almost \textit{900 000} sample predictions were produced and analyzed in order to determine accuracy levels across vessels of different segments and sub-segments. Moreover, as a tree-based ensemble model was used, a sense of feature importance was produced during the training process. The resulting feature importance showed that the combined segmentation value had feature importance of \textit{0.18} or \textit{18\%} which was close to that of the departure port value at \textit{0.23}, or \textit{23\%}. A full overview of feature importances is shown in \cref{tab:feature_importances}.

These feature importances indicate that the vessel segmentation values play a significant part in the predictability of vessels. This is expected since many shipping ports are specialized and different countries and regions produce, export, and import different types of goods and services. The prediction model proposed in this thesis was generally applicable to any vessel of any segment. However, it could be possible that separate models trained on different vessel segments could provide more insight into the predictability of different vessel segments. For large vessels of specialized segments such as \acrshort{lng} vessels, there are very few possible loading and discharging ports. Therefore, a \acrshort{ml} model could perhaps be more effective when trained on a segment-specific, low cardinality dataset with only a few possible arrival ports.

In the generalized approach presented in this thesis, there are also more samples available for smaller vessels than larger ones as there are fewer larger vessels in the world. Larger vessels usually travel over longer distances making their voyages less frequent. Therefore, the model could have had a harder time learning patterns for larger vessels, thus, being somewhat biased toward smaller vessels even though larger vessels would have been assumed to be more predictable than smaller ones.

\subsubsection{RQ 2a: What types of vessels are more predictable than others?}

Based on the resulting predictions from the evaluation process, the accuracy levels of the eight different segments are shown in \cref{fig:segment_accuracy}. The segment ``other'' had the highest total accuracy of \textit{76\%} which resulted from a high number of very predictable passenger vessels as well as container and car carriers that were also quite predictable. The tanker and chemical vessels were slightly more predictable than dry bulk, \acrfull{lpg}, and \acrfull{lng} vessels.

Combination vessels within the segment ``combo'' also showed a high accuracy since it includes a sub-segment that overlaps into the tanker and chemical segments otherwise, the other sub-segments showed low prediction accuracy. The oil service vessels also showed a high accuracy level caused by a singular sub-segment including oil platform supply vessels. It is logical that combo vessels are hard to predict as they can serve multiple functions giving them a broader range of possible loading and unloading ports.

\subsubsection{RQ 2b: Do larger vessels travel in more predictable patterns than smaller vessels?}

The resulting predictions from the evaluation processes showed that there seemed to be some correlation between size, capacity, and predictability, but only for some segments. This was investigated by looking at specific sub-segment accuracies for sub-segments that were based on the size or capacity of vessels. The sub-segments within the chemical segment somewhat indicate that larger vessels were easier to predict, however, \acrshort{lng}, and \acrshort{lpg} vessels indicate a stronger correlation in the opposite direction where the smaller sub-segments showed higher accuracies. For segments such as tanker and dry bulk, no strong correlation was found between size, capacity, and predictability. Thus, based on the proposed general prediction method, there is no strong indication of larger vessels being easier to predict than others.

There are likely to be multiple factors responsible for this conclusion. Firstly, there are fewer voyages available for larger vessels in the \textit{1.5} years of \acrshort{ais} data available than for smaller vessels because longer voyages take longer to complete. Thus, the models know fewer samples of large vessels in the training dataset and might be slightly biased toward smaller vessels.

Moreover, the longer trajectories are more likely to contain intermediate port visits along a voyage as vessels stop to refuel at bunker ports. Such trajectories would then be harder to compare with other voyage trajectories that did not refuel at the same bunker port. This is less likely to impact smaller vessels traveling short distances.

Lastly, there is a trade-off between the size of the vessels and whether trajectory predictions or port frequency is the best indicator of where it is traveling to. For smaller vessels on shorter voyages, trajectory predictions are more reliable than port frequencies as the trajectories are shorter and quite comparable, but there are many different possible arrival ports that the vessel can arrive at. For larger vessels, trajectory predictions are harder because of the length of the voyages, but there are few possible arrival ports that can receive large vessels. As \cref{tab:feature_importances} shows, the model found \acrshort{mstd} to be the most important feature. This could further indicate that the model could be somewhat biased toward smaller vessels which are likely to have better \acrshort{mstd} estimations because of more comparable trajectories. The fact that trajectory-based predictions are more effective for smaller vessels is further alluded to by the trajectory length being shorter for correct predictions than for incorrect predictions.

\section{Limitations and application challenges}

This section aims to disclose and discuss important application, or implementation, challenges as well as other possible impact factors and limitations that might have affected the analysis conducted throughout the thesis.

\subsection{Vessel voyage definition}

As summarized in \cref{sec:summary}, the thesis composed a specific voyage definition that was used to construct voyages from historical \acrshort{ais} data. This definition was an important aspect of the proposed solution as it forms the foundation of what voyages are and how resulting voyage predictions are characterized. Related work granted little insight into this area as few studies considered individual voyage predictions, however, one approach was proposed in \cite{Zhang2020AISApproach} that involved using the \acrshort{dbscan} algorithm to detect clusters of positional \acrshort{ais} data transmitted by individual vessels close to ports. A similar approach was investigated in this thesis (\cref{sec:clustering}) where clusters were detected, mapped to their closest port, and labeled as an arrival at the port. The main disadvantage of this approach was that it defined vessels bunkering (refueling) as arrivals as it cannot distinguish between vessels stopping at ports to load or unload and vessels stopping close to ports because they are held up or bunkering and vessels stopping to load or unload cargo.

An alternative approach was proposed in this thesis where the navigational status attribute in the \acrshort{ais} data was used to determine when a vessel has arrived at a port. A vessel is considered to arrive when the status is set to ``moored'' close to a port. This navigational status is a manual input attribute that the captain or crew onboard a ship manages. This means that when the signal is set to ``moored'', it is the captain of the vessel that considers the vessel as arrived at a port. Thus, the alternative definition trusts the vessels themselves to manage their moored and moving statuses which have the advantage of producing more commercially viable voyages but are affected by human error and lacking standardization. This latter approach was the chosen voyage definition throughout the thesis as the cluster-based solution proved difficult and time-consuming to configure in order to get a good voyage definition for all vessels, while the latter definition, on average, produced high-quality voyages.

From expert validation, some additional opinions were given on the topic of voyage definitions. One promising suggestion was given that mostly revolved around using additional port information to determine what the purpose of port visits was. For instance, vessels are likely to load at loading ports, likely to unload at unloading ports, and likely to bunker at bunkering ports. Thus, a third alternative could have been constructed using a combination of the clustering approach with additional port data to determine why vessels stop at different ports. Although the required information per port was not available when developing the thesis' proposed solution, it shows promise as a future improvement on the thesis work.

\subsection{Geographical trajectory abstraction and MSTD}

Another challenge discussed throughout the thesis is the method of which to consider both geographical trajectory and additional vessel and voyage information in a \acrfull{ml}-based prediction method.

In this thesis, a vessel's spatial trajectory is reconstructed in the categorical value \acrfull{mstd} and the numerical values \acrshort{mstd} similarity, and trajectory length. The \acrshort{mstd} value is a preliminary guess of the vessel's destination purely based on its trajectory by comparing it to every historical trajectory outgoing from the same departure port. The \acrshort{mstd} is found using a trajectory similarity measurement algorithm called \acrfull{sspd}. This method is especially apt at handling trajectories of different lengths and shapes which was beneficial for comparing incomplete voyages not yet arrived to complete historical trajectories. In the training dataset which consisted of \textbf{4.3} million incomplete voyages, the \acrshort{mstd} value corresponded exactly to the actual arrival port for \textit{33\%} of the voyages. This means that a purely spatial algorithmic approach could be \textit{33\%} accurate using this approach.

In regards to related work, the method proposed by \cite{Zhang2020AISApproach} was a purely spatial trajectory similarity-based approach. Their \acrfull{rf} based \acrshort{ml} approach achieved an accuracy of \textit{67\%}. Although the accuracies are not comparable as two different voyage definitions were used, there could be a method of combining both approaches to construct a more efficient geographical trajectory abstraction and ultimately improve the final prediction method. This combined approach could also be improved by more data attributes such as vessel segmentation and the loading condition of vessels which could result in a highly accurate \acrshort{mstd} value.

\subsection{Dataset imbalance}

During the preparation stage for \acrshort{ml} training, it was discovered that the dataset suffered from a significant imbalance in terms of the frequency of arrival port classes. When \acrshort{ml} models are trained on imbalanced datasets, the models see more examples of some outcomes than others which can lead to the model becoming biased to the classes with the highest occurrences. Methods of dealing with class imbalance have become its own area of study within \acrshort{ml} disciplines, thus, implications of solutions to such problems are mostly open-ended. Common methods of dealing with imbalance include undersampling majority classes and oversampling minority classes both of which come with their own problems. Undersampling can lead to overfitting as samples are duplicated, or synthetically generated, and oversampling can lead to removing lots of important information.

In this thesis, a combined approach including both under- and oversampling was used to balance the dataset. The results seem to indicate that the model did not overfit and still reach a high accuracy, thus, it did not remove too many important samples, however, cross-validation and other evaluation methods can be inefficient in some cases of oversampled datasets. \cite{cv_imbalance} suggest that model evaluation can be over-optimistic if the training and testing datasets contain much of the same data. This is common when severe oversampling of minority classes has been used. In this thesis, oversampling was used very sparingly and only in combination with additional undersampling techniques. The resulting dataset did not increase much in size, thus an almost equal amount of majority classes were removed as minority classes were synthetically generated using \acrfull{smote}. However, further analysis into the data preparation stage and evaluation process might be warranted in order to determine the implications of this sampling process as well as further research into which sampling techniques are the most appropriate for the training dataset.

\subsection{External impact factors}

Lastly, the predictability of vessels ultimately depends on the model's ability to find global voyage patterns for different types of shipping vessels. Thus, the level of predictability can be affected by external factors that have a significant impact on these patterns. For instance, shipping traffic is orthogonal to the demand of cargo freight which reflects the production of goods and services, thus, fluctuations in production, as well as consumerism, results in fluctuations in shipping traffic and voyage patterns. Therefore, it must be considered that changes in commercial supply and demand have an effect on the validity of the presented prediction model.

Moreover, the foundation dataset used in this thesis was collected from a historical set of \acrshort{ais} data ranging from December 2019 to March 2021, therefore, and significant impact factor could be that of the outbreak of the \textit{COVID-19} virus that affected the entire world in the year 2020 \parencite{covid_article}. The outbreak has had a significant impact on the shipping industry in the time range of available \acrshort{ais} data used in the thesis. For instance, the virus outbreak has to lead to various port closures, less demand for cargo, and extensive layups (vessels brought out of commission)\footnote{\url{https://www.mondaq.com/marine-shipping/958770}}. Oil prices have also been affected, and some countries like Norway have had an overflow of resources that could not be shipped to other countries. In these cases, tanker vessels have been recommissioned for oil storage purposes. Furthermore, a study presented \cite{MICHAIL2020100178} claims there has been a significant impact on especially the tanker and dry bulk cargo segments and found a measurable correlation between the increase in \textit{COVID-19} cases and decrease in dry bulk and tanker freight indices.

Because of the extensive impact of the outbreak, it must be considered that the model trained for arrival port prediction presented in this thesis is also affected. In the predefined dataset, there is not enough data to measure the impact since it should at least cover a full year of data before the virus broke out for comparisons. However, given more historical \acrshort{ais} data ranging back further in time, a study could be conducted to investigate this relationship.

\section{Commercial applicability}

This thesis has been developed in collaboration with the maritime technological startup company \acrfull{mo} where the author is also employed and has been involved with since it was founded in 2018. Therefore, there are interests in regard to future use and commercial applicability. After the proposed model was trained and evaluated, other external shipping contacts provided by \acrshort{mo} were also interviewed in order to gain insight into possible future applications and validity. It was clear from this information gathered that the most promising aspect of the thesis involves the possible applications toward forecasting vessel availability within specific segments in specific ports and regions.

A path toward implementing such as system would involve combining resulting arrival port predictions with a method of estimating the \acrfull{eta} to the predicted arrival port from the vessel's last known position. This could relatively easily be implemented by using a route estimating tool such as the one provided by \acrshort{mo}. This tool finds the most optimal route from any two given points at sea returning the distance of the calculated route. Thus, given a prediction of the next arrival port and \acrshort{eta} for every currently traveling vessel, an estimate of which vessels will be arriving at different ports at different times can be calculated. This functionality enables shipping operators and investors to make more informed decisions when deciding what cargoes to bid on and what areas to focus on. It also helps the cargo owners decide when to ship this cargo.

Today, such information is currently provided as a service through shipping brokers who conduct extensive analysis and sell their analysis to charterers, ship owners, investors, and cargo owners. A point made from one of the interviewees was that the work presented in this thesis would probably be of high value to the brokers as additional insight into voyage patterns rather than to the charterers themselves. The brokers are trusted sources of information while technological solutions are less so and can currently not cover all of the services that brokers provide. Thus, the presented solution can help brokers collect data more effectively, or from a different perspective, as well as be integrated into existing software solutions such as \acrshort{mo}.

\section{Conclusions and future work}

The shipping industry is a vast and complex ecosystem that has extensive influence on every country in the world as well as the global economy. For the companies and investors involved, being able to make effective market predictions is key to making good decisions and beneficial investments. The shipping market is volatile and mainly affected by the supply of vessels and the demand for cargo. This thesis has presented a method for vessel destination forecasting based on historical \acrshort{ais} which is capable of considering additional information such as vessel segments when making predictions. When applied to a global set of vessels, it could be applied to forecasting the availability of vessels in ports and regions thus providing insight into the vessel supply aspect of the shipping market. This possible application of the thesis was confirmed to be of interest to shipping experts who were interviewed to confirm the validity of the thesis.

Effectively predicting future destination ports and vessel availability is a complex problem, and there are many factors that affect vessels' voyage patterns. Therefore, the proposed method was focused on supporting multiple vessel, or voyage, features. By abstracting spatial trajectories into categorical and numerical values, additional features can be later added to investigate what information impacts the model's performance. The trajectory similarity measurement used in this abstraction can also be exchanged with another so different similarity measurements can be explored and improved upon without changing the underlying data structure.

The trajectory similarity measurement initially used in this thesis was the \acrfull{sspd} algorithm. When applying this algorithm to a range of historical incomplete voyages, it achieved an accuracy level of \textit{33\%}. Since the structure of the dataset provides high flexibility in replacing the \acrshort{sspd}-based \acrshort{mstd} value with another, for future work, it is suggested that different trajectory similarity measurements are implemented and evaluated. For instance, a promising method for trajectory similarity measurement was presented in \cite{Zhang2020AISApproach} which could be combined with the proposed solution to improve the performance of the model.

The final trained \acrfull{ml} model had a measured accuracy of \textit{72\%} and was applicable toward analyzing the predictability of different vessel segments and sub-segments as well as determining correlating relationships between size, capacity, and predictability. However, the evaluation process presented in the thesis could be further expanded upon to gain further insights into the validity of the model. For instance, applying a distance-based error metric to the sampled predictions could be telling as to how close the model was when predicting incorrect arrival ports.

Moreover, the thesis used a specific voyage definition when constructing voyages from the historical \acrshort{ais} data. The advantages of this definition have been discussed, and alternate definitions have been suggested. As a candidate for future work, it is suggested that the alternate voyage definition that takes advantage of additional port data should be explored. A combined approach using positional clustering and port data could be used to determine the intent, or context, of vessels stopping at different ports. Implications on prediction performance as well as validity for commercial users should be described during such as study.

The problem of multi-class classification on imbalanced datasets should also further be investigated to determine the most appropriate method of managing imbalance within the constructed training dataset.~\cite{cv_imbalance} found promising results using a specific combination of \acrshort{smote} oversampling and Tomek Links undersampling to balance the dataset before training while avoiding overfitting and over-optimism in evaluation. The impact of the current sampling approach could also further be investigated as it relates to the validity of the trained model. Another approach to mitigate this issue could be to train specific models for different vessel segments. For vessels within the same segment, there are fewer possible arrival ports thus reducing the cardinality of the training datasets. This could also be beneficial to gain further insights into the predictability of different vessel segments.

Furthermore, as already mentioned, the structure of the training process and dataset provides a foundation that can easily be extended with additional features. The trained \acrfull{xgb} model can also estimate feature importances which makes it easy to add and evaluate new features. For future work, additional features should be applied to the training set such as seasonality, or time of year, whether the traveling vessel is in a ballast (unloaded) or laden condition (loaded), and current draft (depth in water). The aforementioned features are thought to provide more insight into voyage patterns by experts interviewed as part of this thesis.

Lastly, in terms of future commercial applications, it is suggested that predictions from the presented model can be combined with a route estimator or a distance table in order to calculate the \acrfull{eta} to predicted arrival ports from vessels' last known positions. Given an overview of every available vessel's predicted next arrival port and its \acrshort{eta}, it is possible to estimate what vessels are thought to be available at different ports and regions at different times. Thus, an overview can be produced that includes how many vessels of different segments and sub-segments are thought to arrive at different ports which has been confirmed to be of high commercial value.

\section{Concluding remarks}

This thesis has set out to investigate the topic of AIS-based vessel destination predictions and maritime logistics as it can benefit the maritime industry. Although it has its limitations, it has, hopefully, provided insights into the challenge and complexity of this topic area and shaped a foundation that can be further extended upon in both an academic and commercial sense.
